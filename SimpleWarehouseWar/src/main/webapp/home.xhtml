<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>
	<ui:composition template="templates/common.xhtml">

		<ui:define name="content">

			<h2><h:outputText value="#{text['simplewarehouse']}" /></h2>

			<h:form>
			    <h:panelGrid columns="2">
				  <h:commandButton value="#{text['refresh']}" styleClass="button">
					<f:ajax execute="@form" render="loc" />
					<f:ajax execute="@form" render="loc_hu" />
					<f:ajax execute="@form" render="hu" />
					<f:ajax execute="@form" render="loc_menu" />
				  </h:commandButton>
				  
				  <h:message showDetail="true" /> 
				</h:panelGrid>
				
				<h:panelGrid id="panelQualification" columns="3" >
                   <h:panelGrid style="height: 300px; display: block">
                   
			           <h3><h:outputText value="#{text['locations']}" /></h3>
        			   
 				       <div style="overflow: auto;">
        			   <h:dataTable id="loc" value="#{simpleLocationBean.items}"
		        	       var="item" styleClass="commonTable"
				           headerClass="commonTableHeader"
					       rowClasses="commonTableOddRow, commonTableEvenRow">
					       
                           <h:column>
                               <h:selectBooleanCheckbox value="#{item.selected}" />
                           </h:column>
                           
					       <h:column>
						       <f:facet name="header">#{text['location_id']}</f:facet>    				
                               <h:outputText value="#{item.locationId}" />
                           </h:column>
				       </h:dataTable>
                       </div>
				       
				       <!-- JavaScript for the selection -->
                       <h:outputScript>
                           <![CDATA[
                             // Function for selecting a row
                             function selectRow(row) {
                               row.classList.toggle("selected");
                               var checkbox = row.querySelector("input[type='checkbox']");
                               checkbox.checked = !checkbox.checked;
                             }
                           ]]>
                       </h:outputScript>
				       
                       <!-- Button for action -->
                       <h:commandButton value="#{text['delete']}" action="#{simpleLocationBean.deleteSelected}"
                                        styleClass="button" />
                   </h:panelGrid>

                   <h:panelGrid style="height: 300px; display: block">
			        
			           <h3><h:outputText value="#{text['location_with_handling_units']}" /></h3>
			           
 				       <div style="overflow: auto;">
        			   <h:dataTable id="loc_hu" value="#{simpleLocationWithHandlingUnitsBean.items}"
		        	       var="item" styleClass="commonTable"
				           headerClass="commonTableHeader"
					       rowClasses="commonTableOddRow, commonTableEvenRow">

                           <h:column>
                               <h:selectBooleanCheckbox value="#{item.selected}" />
                           </h:column>
                           
					       <h:column>
						       <f:facet name="header">#{text['location_id']}</f:facet>    				
                               <h:outputText value="#{item.locationId}" />
                           </h:column>
					       <h:column>
						       <f:facet name="header">#{text['handling_units']}</f:facet>    				
                               <h:outputText value="#{item.handlingUnits}" />
                           </h:column>
				       </h:dataTable>
                       </div>
				       
				       <!-- JavaScript for the selection -->
                       <h:outputScript>
                           <![CDATA[
                             // Function for selecting a row
                             function selectRow(row) {
                               row.classList.toggle("selected");
                               var checkbox = row.querySelector("input[type='checkbox']");
                               checkbox.checked = !checkbox.checked;
                             }
                           ]]>
                       </h:outputScript>
				       
                       <!-- Button for action -->
                       <h:commandButton value="#{text['empty']}" action="#{simpleLocationWithHandlingUnitsBean.emptySelected}"
                                        styleClass="button" />
                   </h:panelGrid>
                   <h:panelGrid style="height: 300px;  display: block">
			        
			           <h3><h:outputText value="#{text['handling_units']}" /></h3>
			           
 				       <div style="overflow: auto;">
        			   <h:dataTable id="hu" value="#{simpleHandlingUnitBean.items}"
		        	       var="item" styleClass="commonTable"
				           headerClass="commonTableHeader"
					       rowClasses="commonTableOddRow, commonTableEvenRow">

                           <h:column>
                               <h:selectBooleanCheckbox value="#{item.selected}" />
                           </h:column>
                           
					       <h:column>
						       <f:facet name="header">#{text['handling_unit_id']}</f:facet>    				
                               <h:outputText value="#{item.id}" />
                           </h:column>
				       </h:dataTable>
                       </div>
				       
				       <!-- JavaScript for the selection -->
                       <h:outputScript>
                           <![CDATA[
                             // Function for selecting a row
                             function selectRow(row) {
                               row.classList.toggle("selected");
                               var checkbox = row.querySelector("input[type='checkbox']");
                               checkbox.checked = !checkbox.checked;
                             }
                           ]]>
                       </h:outputScript>
				       
				       <h:panelGrid columns="4">
                         <!-- Buttons for action -->
                         <h:commandButton value="#{text['delete']}" action="#{simpleHandlingUnitBean.deleteSelected}"
                                          styleClass="button" />
					     <h:commandButton value="#{text['pick']}" action="#{simpleHandlingUnitBean.pickSelected}"
					                      styleClass="button" />
					     <h:commandButton value="#{text['drop']}" action="#{simpleHandlingUnitBean.dropSelected}"
					                      styleClass="button" />
						 <h:selectOneMenu id="loc_menu" value="#{simpleHandlingUnitBean.selectedDestination}" >
						     <f:selectItem itemLabel=" " />
						     <f:selectItems value="#{simpleHandlingUnitBean.destinations}" />
						 </h:selectOneMenu>
					   </h:panelGrid>
					</h:panelGrid>
                  </h:panelGrid>
			</h:form>

		</ui:define>

	</ui:composition>

</h:body>
</html>